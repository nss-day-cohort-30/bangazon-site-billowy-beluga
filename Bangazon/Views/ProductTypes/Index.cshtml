@model IEnumerable<Bangazon.Models.ProductType>

@{
    ViewData["Title"] = "Index";
}

<div>
    <h1>Categories</h1>
    <hr />
    @foreach (var item in Model)
    {
        <h4>
            @*this creates the hyperlink on each category*@
            <a asp-action="Details" asp-route-id="@item.ProductTypeId">

            @Html.DisplayFor(modelItem => item.Label) (@item.Products.Count())
            </a>
        </h4> 
        @foreach (var product in ViewBag.Products)
        {
            <ul>
                @if (product.ProductType.Label == item.Label)
                {
                    <li>
                        <a asp-controller="Products" asp-action="Details" asp-route-id="@product.ProductId">@product.Title</a>
                    </li>
                }
            </ul>
        }
    }
</div>
